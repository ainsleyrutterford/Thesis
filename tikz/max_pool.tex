\begin{tikzpicture}[scale=0.6]
    \filldraw[color=blue, opacity=0.2] (0,0) rectangle (2,2);
    \filldraw[color=red, opacity=0.2] (0,2) rectangle (2,4);
    \filldraw[color=green, opacity=0.2] (2,2) rectangle (4,4);
    \filldraw[color=yellow, opacity=0.2] (2,0) rectangle (4,2);

    \filldraw[color=blue, opacity=0.2] (5,1) rectangle (6,2);
    \filldraw[color=red, opacity=0.2] (5,2) rectangle (6,3);
    \filldraw[color=green, opacity=0.2] (6,2) rectangle (7,3);
    \filldraw[color=yellow, opacity=0.2] (6,1) rectangle (7,2);

	\draw [thick] (0,0) -- (0,4) -- (4,4) -- (4,0) -- (0,0);
    \draw (0,1) -- (4,1);
    \draw (0,2) -- (4,2);
    \draw (0,3) -- (4,3);
    \draw (1,0) -- (1,4);
    \draw (2,0) -- (2,4);
    \draw (3,0) -- (3,4);
    \node at (0.5, 0.5) {3};
    \node at (1.5, 0.5) {4};
    \node at (2.5, 0.5) {2};
    \node at (3.5, 0.5) {1};
    \node at (0.5, 1.5) {9};
    \node at (1.5, 1.5) {6};
    \node at (2.5, 1.5) {7};
    \node at (3.5, 1.5) {7};
    \node at (0.5, 2.5) {4};
    \node at (1.5, 2.5) {8};
    \node at (2.5, 2.5) {0};
    \node at (3.5, 2.5) {2};
    \node at (0.5, 3.5) {6};
    \node at (1.5, 3.5) {5};
    \node at (2.5, 3.5) {1};
    \node at (3.5, 3.5) {4};
    
    \draw[densely dotted] (0,0) -- (5,1);
    \draw[densely dotted] (0,4) -- (5,3);
    \draw[densely dotted] (4,4) -- (7,3);
    \draw[densely dotted] (4,0) -- (7,1);
    
    \draw [thick] (5,1) -- (5,3) -- (7,3) -- (7,1) -- (5,1);
    \draw (6,1) -- (6,3);
    \draw (5,2) -- (7,2);
    
    \node at (5.5, 1.5) {9};
    \node at (6.5, 1.5) {7};
    \node at (5.5, 2.5) {8};
    \node at (6.5, 2.5) {4};
    
    \node at (2, -1) {$f$};
    \node at (6, -1) {$g$};
\end{tikzpicture}